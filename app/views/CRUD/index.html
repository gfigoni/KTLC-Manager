#{extends 'CRUD/layout.html' /}
#{set title:messages.get('crud.title') /}

<div id="crudIndex">

    <h2>&{'crud.index.title'}</h2>

    <table>
        <thead>
            <tr>
                <th>&{'crud.index.objectType'}</th>
                <th width="20%">&{'crud.index.action'}</th>
            </tr>
        </thead>
        <tbody>
#{crud.types}
            <tr>
                <td>
                    <a href="${type.listAction}">&{type.name}</a>
                </td>
                <td class="crudNew" >
                    #{if !("KTLCEditions".equals(type.name))}
                        <a href="${type.blankAction}">&{'crud.index.add', type}</a>
                    #{/if}
                </td>
            </tr>
#{/crud.types}
        </tbody>
    </table>
    
    <h2>&{'admin.generalStats'}</h2>
    
    <table>
    	<thead>
            <tr>
                <th>&{'admin.options'}</th>
            </tr>
        </thead>
        <tbody>
	    	<tr>
	    		<td>
	    			<form action="@{stats.StatisticsManager.regenStats()}" method="GET">
				    	<input type="submit" value="&{'admin.regen'}" style="min-width: 200px;" />
					</form>
	    		</td>
    		</tr>
    		<tr>
	    		<td>
	    			<form action="@{stats.StatisticsManager.manageParameters()}" method="GET">
				    	<input type="submit" value="&{'admin.manageParams'}" style="min-width: 200px;" />
					</form>
	    		</td>
	    	</tr>
    	</tbody>
    </table>
		    
</div>
