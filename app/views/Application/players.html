#{extends 'main.html' /}
#{set title:messages.get('title.players') /}
#{set page:'player' /}

#{if players.size()}
<div id="content_top">
    <ul>
        <li><h1><a>&{'main.players'}</a></h1></li>
    </ul>
</div>
<div id="main">
    <div id="content">
        <div class="players_box">
        	#{paginate.controls items:players /}
            <table>
                <tr>
                    <th>&{'player'}</th>
                    <th>&{'player.login'}</th>
                    <th>&{'player.categories'}</th>
                </tr>
                #{paginate.list items:players, as:'player'}
                #{if player.logins}
                <tr>
                    <td>#{a @Application.player(player.logins[0])}${player.name}#{/a}</td>
                    <td>
                        #{list items:player.logins, as:'login'}
                        <p>${login}</p>
                        #{if !login_isLast}<br/>#{/if}
                        #{/list}
                    </td>
                    <td>
                    	#{if player.isPlayer() && !player.isMapper()}&{'player'}#{/if}
                   		#{elseif !player.isPlayer() && player.isMapper()}&{'player.mapper'}#{/elseif}
                   		#{elseif player.isPlayer() && player.isMapper()}&{'player'} / &{'player.mapper'}#{/elseif}
                   		#{else}Unknown#{/else}
                    </td>
                </tr>
                #{/if}
                #{/paginate.list}
                #{else}
                &{'error.noplayer'}
                #{/else}
            </table>
            #{paginate.summary items:players /}
        </div>
    </div>
    <div class="cleaner"></div>
</div>
#{/if}

#{else}
<div id="content_top">
    <ul>
        <li><h1><a>&{'error.noplayer'}</a></h1></li>
    </ul>
</div>
<div id="main">
    <div id="content">
        <div class="content_box" ></div>
    </div>
    <div class="cleaner" ></div>
</div>
#{/else}